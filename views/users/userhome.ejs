<%- include('../layouts/userHeader') %>


<style>
  .btn.add_cart {
    background-color: transparent;
    color: #ff1493; /* Dark pink color */
    padding: 5px 10px; /* Adjust padding as needed */
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
    font-weight: bold; /* Adding font-weight */
}

.btn.add_cart:hover {
    background-color: #ff1493; /* Dark pink color */
    color: white;
}
</style>

    <!-- banner part start-->
   
    <section class="banner_part">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-12">
                    <div class="banner_slider owl-carousel">
                        <div class="single_banner_slider">
                            <div class="row">
                                <div class="col-lg-6 col-md-8"> <!-- Adjusted column width -->
                                    <div class="banner_text">
                                        <div class="banner_text_iner">
                                            <h1>Wood & Cloth Sofa</h1>
                                            <p>Introducing the biggest offers on all products</p>
                                            <a href="#" class="btn_2">Buy Now</a> <!-- Adjusted button text -->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-4"> <!-- Adjusted column width -->
                                    <div class="banner_img d-none d-lg-block">
                                        <img src="/assets/img/banner_img.png" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="single_banner_slider">
                            <div class="row">
                                <div class="col-lg-5 col-md-8">
                                    <div class="banner_text">
                                        <div class="banner_text_iner">
                                            <h1>Wood & Cloth
                                                Sofa</h1>
                                            <p>Introduncing the biggest offers on all products</p>
                                            <a href="#" class="btn_2">buy now</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="banner_img d-none d-lg-block">
                                    <img src="/assets/img/banner_img.png" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slider-counter"></div>
                </div>
            </div>
        </div>
    </section>
    
    
    <!-- banner part start-->

    <!-- feature_part start-->
    <section class="feature_part padding_top">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="section_tittle text-center">
                        <h2>Category</h2>
                    </div>
                </div>
            </div>
            <div class="row align-items-center justify-content-between">
                <div class="col-lg-7 col-sm-6">
                    <div class="single_feature_post_text">
                        <p>Premium Quality</p>
                        <h3>Latest foam Sofa</h3>
                        <a href="#" class="feature_btn">EXPLORE NOW <i class="fas fa-play"></i></a>
                        <img src="/assets/img/feature/feature_1.png" alt="">
                    </div>
                </div>
                <div class="col-lg-5 col-sm-6">
                    <div class="single_feature_post_text">
                        <p>Premium Quality</p>
                        <h3>Latest foam Sofa</h3>
                        <a href="#" class="feature_btn">EXPLORE NOW <i class="fas fa-play"></i></a>
                        <img src="/assets/img/feature/feature_2.png" alt="">
                    </div>
                </div>
                <div class="col-lg-5 col-sm-6">
                    <div class="single_feature_post_text">
                        <p>Premium Quality</p>
                        <h3>Latest foam Sofa</h3>
                        <a href="#" class="feature_btn">EXPLORE NOW <i class="fas fa-play"></i></a>
                        <img src="/assets/img/feature/feature_3.png" alt="">
                    </div>
                </div>
                <div class="col-lg-7 col-sm-6">
                    <div class="single_feature_post_text">
                        <p>Premium Quality</p>
                        <h3>Latest foam Sofa</h3>
                        <a href="#" class="feature_btn">EXPLORE NOW <i class="fas fa-play"></i></a>
                        <img src="/assets/img/feature/feature_4.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- upcoming_event part start-->

    <!-- product_list start-->
    <section class="product_list section_padding">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12">
                    <div class="section_tittle text-center d-flex ">
                        <h2>All Products <span>shop now</span></h2>
                        <ul>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="" id="navbarDropdown_3"
                                    role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                   Filter
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown_2">
                                    <a class="dropdown-item" href="lowhigh"> Price Low-High</a>
                                    <a class="dropdown-item" href="highlow">Price High-Low</a>
                                    <a class="dropdown-item" href="AToZ">A - Z</a>
                                    <a class="dropdown-item" href="ZToA">Z -A</a>
                                    <a class="dropdown-item" href="">Latest</a>
                                    <a class="dropdown-item" href="">featured</a>
                                </div>
                            </li>
                        </ul>
                        
                    </div>
                </div>
            </div>
            
                    <div class="row align-items-center justify-content-between">
                        <div class="col-lg-12">
                            <div class="best_product_slider owl-carousel">
                                <% products.forEach((product) => { %>
                                    <% if (!product.is_blocked && !product.categoryId.is_Blocked) { %>
                                        <div class="single_product_item">
                                        <a href="/productdetails/<%=product._id%>" >   <img src="userImages/<%= product.images[0] %>" alt="<%= product.name %>"></a> 
                                            <div class="single_product_text">
                                                <h4><%= product.productName %></h4>
                                                <h3>₹<%= product.price %></h3>            
                                            </div>
                                        </div>
                                    <% } %>
                                <% }) %>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            


    </section>
    <!-- product_list part start-->

    <!-- awesome_shop start-->
    <section class="our_offer section_padding">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <div class="col-lg-6 col-md-6">
                    <div class="offer_img">
                        <img src="/assets/img/offer_img.png" alt="">
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <div class="offer_text">
                        <h2>Weekly Sale on
                            60% Off All Products</h2>
                        <div class="date_countdown">
                            <div id="timer">
                                <div id="days" class="date"></div>
                                <div id="hours" class="date"></div>
                                <div id="minutes" class="date"></div>
                                <div id="seconds" class="date"></div>
                            </div>
                        </div>
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="enter email address"
                                aria-label="Recipient's username" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <a href="#" class="input-group-text btn_2" id="basic-addon2">book now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- awesome_shop part start-->

    <!-- product_list part start-->
    <section class="product_list section_padding">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12">
                    <div class="section_tittle text-center">
                        <h2>awesome <span>shop</span></h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="product_list_slider owl-carousel">
                        <div class="single_product_list_slider">
                            <div class="row align-items-center justify-content-between">
                               
                                  
                                <% products.forEach((product) => { %>
                                    <% if (!product.is_blocked && !product.categoryId.is_Blocked) { %>
                                        <div class="col-lg-3 col-sm-6">
                                            <div class="single_product_item">
                                                <a href="/productdetails/<%= product._id %>">
                                                    <img src="userImages/<%= product.images[0] %>" alt="<%= product.productName %>">
                                                </a>
                                                <div class="single_product_text">
                                                    <h4><%= product.productName %></h4>
                                                    <h3><span id="price" value="<%= product.price %>" class="sale-price">₹<%= product.price %></span></h3>
                                                    <input type="hidden" id="productId" name="" value="<%= product._id %>">
                                                    <button class="btn add_cart" value="<%= product._id %>" price="<%= product.price %>"><span style="color: pink;">+ Add to Cart</span></button>
                                                    <a href="#" class="add_to_wishlist"><i class="ti-heart"></i> </a>
                                                </div>
                                            </div>
                                        </div> 
                                    <% } %>
                                <% }) %>
                                
                        </div>
                       
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- product_list part end-->

    <!-- subscribe_area part start-->
    <section class="subscribe_area section_padding">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-7">
                    <div class="subscribe_area_text text-center">
                        <h5>Join Our Newsletter</h5>
                        <h2>Subscribe to get Updated
                            with new offers</h2>
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="enter email address"
                                aria-label="Recipient's username" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <a href="#" class="input-group-text btn_2" id="basic-addon2">subscribe now</a>
                            </div>
                        </div>
                    </div>
                </div> 
            </div>
        </div>
    </section>
    <!--::subscribe_area part end::-->

    <!-- subscribe_area part start-->
    <section class="client_logo padding_top">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-12">
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_1.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_2.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_3.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_4.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_5.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_3.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_1.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_2.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_3.png" alt="">
                    </div>
                    <div class="single_client_logo">
                        <img src="/assets/img/client_logo/client_logo_4.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </section>







    <%- include('../layouts/userFooter') %>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js" 
    integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA=="
     crossorigin="anonymous" referrerpolicy="no-referrer"></script>
     <script>
       cument.addEventListener('DOMContentLoaded', function () {
    const addCartButtons = document.querySelectorAll('.add_cart');

    addCartButtons.forEach(button => {
        button.addEventListener('click', function (e) {
            e.preventDefault();

            alert('clicked'); // For testing purposes

            const productId = this.getAttribute('value');
            const price = this.getAttribute('price');

            // Check if productId and price are valid
            if (!productId || !price) {
                console.log('Product ID or price not found.');
                return;
            }

            axios.post('/addToCart', { productId, price })
                .then(res => {
                    console.log('success');
                    console.log(res);

                    if (res.data.success) {
                        // Product successfully added to cart
                        swal({
                            title: "Added to Cart!",
                            text: "The product has been successfully added to your cart.",
                            icon: "success",
                            button: "OK",
                        });
                    } else if (res.data.addedToCart) {
                        // Product already in cart
                        swal({
                            title: "Already in Cart!",
                            text: "The product is already in your cart.",
                            icon: "warning",
                            button: "OK",
                        });
                    } else if (res.data.outOfStock) {
                        // Product out of stock
                        swal({
                            title: "Out Of Stock!",
                            text: "The product is out of stock. Sorry for the inconvenience.",
                            icon: "warning",
                            button: "OK",
                        });
                    }
                })
                .catch(err => {
                    console.log('error in cart axios', err);
                });
        });
    });
});
    </script>
        